<div class="container p-4">
  <div class="row">
    <div class="col-12 d-flex justify-content-center">
      <h2>{{ dialogTitle }}</h2>
    </div>
    <form [formGroup]="studentForm">
      <div class="col-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" [maxlength]="nameMaxLength" />
          <mat-hint [align]="'end'"
            >{{ studentForm?.get("name")?.value?.length }} /
            {{ nameMaxLength }}</mat-hint
          >
          <mat-error *ngIf="studentForm?.get('name')?.hasError('maxlength')">
            MaxLength is {{ nameMaxLength }} characters
          </mat-error>
          <mat-error *ngIf="studentForm?.get('name')?.hasError('required')">
            Name is required
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field class="w-100">
          <mat-label>Email</mat-label>
          <input
            matInput
            formControlName="email"
            placeholder="adress@email.com"
            [maxlength]="emailMaxLength"
          />
          <mat-hint [align]="'end'"
            >{{ studentForm?.get("email")?.value?.length }} /
            {{ emailMaxLength }}</mat-hint
          >
          <mat-error *ngIf="studentForm?.get('email')?.hasError('maxlength')">
            MaxLength is {{ emailMaxLength }} characters
          </mat-error>
          <mat-error *ngIf="studentForm?.get('email')?.hasError('required')">
            Email is required
          </mat-error>
          <mat-error *ngIf="studentForm?.get('email')?.hasError('email')">
            Fill valid email!
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field class="w-100">
          <mat-label>Choose a date</mat-label>
          <input
            matInput
            [matDatepicker]="picker"
            formControlName="birthDate"
            type="date"
          />
          <mat-hint>DD/MM/YYYY</mat-hint>
          <mat-datepicker-toggle
            matIconSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field class="w-100">
          <mat-label>Phone Number</mat-label>
          <input
            mask="(00) 0 0000-0000"
            matInput
            formControlName="phone"
            maxlength="20"
          />
          <mat-error *ngIf="studentForm?.get('phone')?.hasError('maxlength')">
            Please type a valid Phone Number!
          </mat-error>
        </mat-form-field>
      </div>
    </form>
    <div class="col-12 d-flex justify-content-end align-items-center w-100">
      <button mat-raised-button color="secondary" class="me-2" mat-dialog-close>
        Cancel <mat-icon>block</mat-icon>
      </button>
      <button
        mat-raised-button
        color="primary"
        [disabled]="
          studentForm?.invalid || (isEdit && !this.studentForm.touched)
        "
        (click)="confirm()"
      >
        Confirm <mat-icon>check</mat-icon>
      </button>
    </div>
  </div>
</div>
